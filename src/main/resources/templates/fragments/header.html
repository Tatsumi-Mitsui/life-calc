<!DOCTYPE html>
<html lang="ja"
      xmlns:th="http://www.thymeleaf.org"
      xmlns="https://www.thymeleaf.org/extras/spring-security">
<body th:fragment="siteHeader">
<header>
    <div class="inner header-grid">
        <!-- 左：メニュー（他の計算ページ用）※ダミー -->
        <nav class="menu" area-label="Main">
            <!--
            <a class="link" th:href="@{/}" area-current="page">ホーム</a>
            <a class="link" th:href="@{/variablebudget}">変動費計算</a>
            -->
        </nav>

        <!-- 中央：ロゴ（常に中央） -->
        <a class="logo" th:href="@{/}">かんたん家計計算</a>

        <!-- 右：認証エリア（ログインしているかで出し分け） -->
        <div class="auth">
            <!-- ログイン済み -->
            <th:block sec:authorize="isAuthenticated()">
                <span class="hello">
                    ようこそ、
                    <b th:text="${#authentication.principal.displayName} ?: ${#authentication.name}">ユーザー</b>
                </span>
                <form th:action="@{/logout}" method="post">
                    <input type="hidden" th:name="${_csrf.parameterName}" th:value="${_csrf.token}" />
                    <button type="submit" class="link-btn">ログアウト</button>
                </form>
            </th:block>
    
            <th:block sec:authorize="!isAuthenticated()">
                <a th:href="@{/login}" class="link">ログイン</a>
                <a th:href="@{/signup}" class="link">サインアップ</a>
            </th:block>
        </div>
    </div>
</header>
</body>
</html>